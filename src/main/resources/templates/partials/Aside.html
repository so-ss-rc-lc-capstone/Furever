

<aside th:fragment="aside-nav" id="logo-sidebar" class="fixed top-0 left-0 col-start-1 col-span-1 hidden md:flex w-[16em] xl:w-[17em] h-screen bg-white border-r dark:border-[#292d38] dark:bg-[#1e1f24] dark:text-white"
       aria-label="Sidebar" style="z-index: 99">
  <div class="h-full w-full px-3 pb-4 bg-white  dark:bg-[#1e1f24] mt-[7em]">
    <div class="w-full">
      <ul class="space-y-2 w-full">
        <li class="mb-[3em]">
          <div class="w-full max-w-sm flex justify-center items-center">
            <div class="flex flex-col w-[90%] justify-center items-center p-5 bg-gray-100 dark:text-white dark:bg-[#26272d] rounded-xl h-[150px]">
              <div class = "flex ">
                <img class="w-[50px] h-[50px] mb-3 rounded-full shadow-lg"
                     th:if="${not #strings.isEmpty(user.profilePhoto)}"
                     th:src="${user.profilePhoto}"
                     alt="Profile image"/>
                <img class="w-[50px] h-[50px] mb-3 rounded-full shadow-lg"
                     th:if="${#strings.isEmpty(user.profilePhoto)}"
                     th:src="@{/img/profile.jpeg}"
                     alt="Default profile image"/>

                <div class="flex ml-3 items-start justify-center flex-col">
                  <h5 class="text-[18px] font-bold text-gray-900 dark:text-white">
                  <span class="text-[15px] font-bold mb-1"
                        th:text="${#strings.isEmpty(user.first_name) ? 'New User' : user.first_name + (user.last_name != null ? ' ' + user.last_name : '')}"></span>
                  </h5>
                  <h5 class="text-[13px] text-start font-bold text-gray-400 dark:text-gray-400">
                    @<span th:text="${user.username}"/></h5>
                </div>
              </div>

              <div class="w-full flex justify-evenly">
                <div class="flex flex-col">
                  <h2 class="text-center font-bold" th:text="${user.followedUsers.size()}"></h2>
                  <h5 class="text-center text-gray-400">Followers</h5>
                </div>

                <div class="flex flex-col">
                  <h2 class="text-center font-bold" th:text="${user.posts.size()}"></h2>
                  <h5 class="text-center text-gray-400">Posts</h5>
                </div>

              </div>
            </div>
          </div>
        </li>

        <li>
          <a href="/profile"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-[#26272d]"
             data-popover-placement="right"
             data-popover-target="popover-profile">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">My Profile</span>
          </a>
          <div data-popover id="popover-profile" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border dark:border-[#292d38] rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-[#1e1f24]">
            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Manage your profile!</h3>
                  <p>You can edit your profile or add more detail about yourself! You can easily track
                    your posts and events as well!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    view profile!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/profile-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/posts"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-[#26272d]"
             data-popover-placement="right"
             data-popover-target="popover-posts">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75" viewBox="0 0 16 16">
              <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Feed</span>
          </a>
          <div data-popover id="popover-posts" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border dark:border-[#292d38] rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-[#1e1f24]">            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Share your posts!</h3>
                  <p>Share your stories or questions with other people! You can post some pictures of
                    your loved ones!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    see posts!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/post-image2.png}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/events"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-[#26272d]"
             data-popover-placement="right"
             data-popover-target="popover-events">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar4-event flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 " viewBox="0 0 16 16">
              <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z"/>
              <path d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Events</span>
          </a>
          <div data-popover id="popover-events" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border dark:border-[#292d38] rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-[#1e1f24]">            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Join events!</h3>
                  <p>You can participate other events or you can create one! Enjoy the gathering with
                    your loved ones!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    see events!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/event-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/friends"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-[#26272d]"
             data-popover-placement="right"
             data-popover-target="popover-friend">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-people-fill flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                 viewBox="0 0 16 16">
              <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Friends</span>
          </a>
          <div data-popover id="popover-friend" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border dark:border-[#292d38] rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-[#1e1f24]">            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Let's have some chats!</h3>
                  <p>You can chat with your following friends! Chatting is always fun!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    chat!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/friend-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</aside>

<aside th:fragment="aside-user-show" id="logo-sidebar" class="fixed top-0 left-0 col-start-1 col-span-1 hidden md:flex w-[16em] xl:w-[17em] h-screen dark:text-white dark:bg-[#1e1f24]"
       aria-label="Sidebar" style="z-index: 99">
  <div class="h-full w-full px-3 pb-4 mt-[7em]">
    <div class="w-full">
      <ul class="space-y-2 w-full">
        <li class="mb-[3em]">
          <div class="w-full max-w-sm dark:bg-[#26272d] rounded-xl flex justify-center items-center">
            <div class="flex flex-col w-[90%] justify-center items-center p-5 bg-gray-100 dark:bg-[#26272d] dark:text-white rounded-xl h-[150px]">
              <div class = "flex ">
                <img class="w-[50px] h-[50px] mb-3 rounded-full shadow-lg"
                     th:if="${not #strings.isEmpty(loggedInUser.profilePhoto)}"
                     th:src="${loggedInUser.profilePhoto}"
                     alt="Profile image"/>
                <img class="w-[50px] h-[50px] mb-3 rounded-full shadow-lg"
                     th:if="${#strings.isEmpty(loggedInUser.profilePhoto)}"
                     th:src="@{/img/profile.jpeg}"
                     alt="Default profile image"/>

                <div class="flex ml-3 items-start justify-center flex-col">
                  <h5 class="text-[18px] font-bold text-gray-900 dark:text-white">
                  <span class="text-[15px] font-bold mb-1"
                        th:text="${#strings.isEmpty(loggedInUser.first_name) ? 'New User' : loggedInUser.first_name + (loggedInUser.last_name != null ? ' ' + loggedInUser.last_name : '')}"></span>
                  </h5>
                  <h5 class="text-[13px] text-start font-bold text-gray-400 dark:text-white">
                    @<span th:text="${loggedInUser.username}"/></h5>
                </div>
              </div>

              <div class="w-full flex justify-evenly">
                <div class="flex flex-col">
                  <h2 class="text-center font-bold" th:text="${loggedInUser.followedUsers.size()}"></h2>
                  <h5 class="text-center text-gray-400">Followers</h5>
                </div>

                <div class="flex flex-col">
                  <h2 class="text-center font-bold" th:text="${loggedInUser.posts.size()}"></h2>
                  <h5 class="text-center text-gray-400">Posts</h5>
                </div>

              </div>
            </div>
          </div>
        </li>

        <li>
          <a href="/profile"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"
             data-popover-placement="right"
             data-popover-target="popover-profile">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">My Profile</span>
          </a>
          <div data-popover id="popover-profile" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-600">
            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Manage your profile!</h3>
                  <p>You can edit your profile or add more detail about yourself! You can easily track
                    your posts and events as well!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    view profile!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/profile-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/posts"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"
             data-popover-placement="right"
             data-popover-target="popover-posts">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75" viewBox="0 0 16 16">
              <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Feed</span>
          </a>
          <div data-popover id="popover-posts" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-600">
            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Share your posts!</h3>
                  <p>Share your stories or questions with other people! You can post some pictures of
                    your loved ones!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    see posts!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/post-image2.png}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/events"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"
             data-popover-placement="right"
             data-popover-target="popover-events">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar4-event flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 " viewBox="0 0 16 16">
              <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z"/>
              <path d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Events</span>
          </a>
          <div data-popover id="popover-events" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-600">
            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Join events!</h3>
                  <p>You can participate other events or you can create one! Enjoy the gathering with
                    your loved ones!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    see events!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/event-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>

        <li>
          <a href="/friends"
             class="flex items-center p-3 pl-14 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"
             data-popover-placement="right"
             data-popover-target="popover-friend">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-people-fill flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                 viewBox="0 0 16 16">
              <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Friends</span>
          </a>
          <div data-popover id="popover-friend" role="tooltip"
               class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-96 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-600">
            <div class="grid grid-cols-5">
              <div class="col-span-3 p-3">
                <div class="space-y-2">
                  <h3 class="font-semibold text-gray-900 dark:text-white">Let's have some chats!</h3>
                  <p>You can chat with your following friends! Chatting is always fun!</p>
                  <a href="/posts"
                     class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700">Let's
                    chat!
                    <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor"
                         viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                  </a>
                </div>
              </div>
              <img th:src="@{/img/friend-gif-high.gif}" class="h-full col-span-2" alt="Italy map"/>
            </div>
            <div data-popper-arrow></div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</aside>


<aside th:fragment="friends-aside" class="fixed top-0 mr-3 mt-3 right-0 justify-items-center ml-5 hidden md:flex w-[15em]">
  <div class="w-full max-w-md p-3 mt-[103px] h-1/2 bg-white dark:bg-[#1e1f24] border border-gray-200 rounded-lg shadow dark:border-[#292d38]">
    <div class="w-full flex flex-row items-center justify-between mb-4">
      <div class="w-full flex flex-col justify-center">
        <div class="mb-4 border-b border-gray-200 dark:border-gray-700">
          <ul class="flex flex-row -mb-px text-sm font-medium text-center" id="myTab"
              data-tabs-toggle="#myTabContent" role="tablist">
            <li class="w-1/2 mr-2" role="presentation">
              <button class="inline-block p-4 border-b-2 text-[#2a86ff] rounded-t-lg" id="profile-tab"
                      data-tabs-target="#profile" type="button" role="tab" aria-controls="profile"
                      aria-selected="false"><span class="text-[#2a86ff]">Followers</span>
              </button>
            </li>
            <li class="w-1/2 mr-2" role="presentation">
              <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"
                      id="dashboard-tab" data-tabs-target="#dashboard" type="button" role="tab"
                      aria-controls="dashboard" aria-selected="false">All
              </button>
            </li>

          </ul>
        </div>

        <div id="myTabContent">
          <div class="hidden rounded-lg overflow-y-scroll" id="profile" role="tabpanel"
               aria-labelledby="profile-tab">
            <ul role="list">
              <div th:each="user : ${followedUsers}">

                <div th:if="${user.id} != ${#authentication.principal.id}">
                  <li class="py-2 group/item">
                    <div class="flex flex-col space-x-4 ">
                      <div class="flex items-center px-3 justify-between">
                        <div th:data-dropdown-toggle="${user.id}"
                             data-dropdown-placement="bottom-start" type="button"
                             class="flex items-center">

                          <img class="w-10 h-10 rounded-full cursor-pointer"
                               th:src="${user.profilePhoto != null and user.profilePhoto != '' ? user.profilePhoto : '/img/profile.jpeg'}"
                               alt="user-image">

                          <div class="ml-3 flex-col font-medium">
                            <div class="text-base font-normal text-gray-900 dark:text-white">
                              <span th:text="${user.first_name } "></span>
                              <span th:text="${user.last_name}"></span>
                            </div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">@<span
                                    th:text="${user.username}"
                                    th:href="@{|/user/${user.id}|}"></span></div>
                          </div>
                          <div th:id="${user.id}"
                               class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600">
                            <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
                              <div class="text-base font-normal text-gray-900 dark:text-white"><span
                                      th:text="${user.first_name } "></span> <span
                                      th:text="${user.last_name}"></span></div>
                              <div class="text-sm text-gray-500 dark:text-gray-400">
                                <span th:text="${user.email}"></span></div>

                            </div>
                            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
                                aria-labelledby="avatarButton">
                              <li>
                                <a th:href="@{|/user/${user.id}|}"
                                   class="block px-4 py-2 dark:hover:text-white">View
                                  Profile</a>
                              </li>
                              <li>
                                <a href="/friends"
                                   class="block px-4 py-2 dark:hover:text-white">Message</a>
                              </li>
                            </ul>
                            <div class="py-1">

                              <form th:action="@{/users/{id}/follow(id=${user.id})}"
                                    th:name="followFromEvent" th:method="post"
                                    class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-400 dark:hover:text-white">
                                <button th:text="${user.getFollowedUsers().contains(user) ? 'Follow' : 'Unfollow'}"
                                        type="submit"></button>
                              </form>

                            </div>
                          </div>
                        </div>

                        <a th:href="@{/friends}" class="flex items-center">
                          <button type="button" th:id="${user.id}"
                                  class="all-users hover:cursor-pointer flex justify-center items-center w-[40px]">
                            <svg name="chevron-forward-outline"
                                 xmlns="http://www.w3.org/2000/svg" width="25"
                                 height="25" fill="currentColor"
                                 class="bi bi-chat-fill transition duration-300 text-gray-300 hover:text-gray-500"
                                 viewBox="0 0 16 16">
                              <path d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
                            </svg>
                          </button>
                        </a>
                      </div>
                    </div>
                  </li>
                </div>
              </div>
            </ul>
          </div>

          <div class="hidden rounded-lg overflow-y-scroll" id="dashboard" role="tabpanel"
               aria-labelledby="dashboard-tab">
            <ul role="list">
              <!--          <div th:each="user : ${users}">-->
              <div th:each="user : ${usersNotFollowing}">

                <div th:if="${user.id} != ${#authentication.principal.id}">

                  <li class="py-2 group/item ">

                    <div class="flex flex-col space-x-4 ">
                      <div class="flex items-center justify-between px-3">
                        <div th:data-dropdown-toggle="${user.email}"
                             data-dropdown-placement="bottom-start" type="button"
                             class="flex items-center">

                          <img class="w-10 h-10 rounded-full cursor-pointer"
                               th:src="${user.profilePhoto != null and user.profilePhoto != '' ? user.profilePhoto : '/img/profile.jpeg'}"
                               alt="user-image">

                          <div class="ml-3 flex-col font-medium dark:text-white">
                            <div class="text-sm text-gray-500 dark:text-gray-400">@<span
                                    th:text="${user.username}"></span>
                            </div>
                          </div>
                          <div th:id="${user.email}"
                               class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600">
                            <div class="px-4 py-3 text-sm">
                              <div class="text-base font-normal text-gray-900 dark:text-white">
                                <span th:text="${user.first_name } "></span>
                                <span th:text="${user.last_name}"></span>
                              </div>
                              <div class="text-sm text-gray-500 dark:text-gray-400">

                                <span th:text="${user.email}"></span>
                              </div>

                            </div>
                            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
                                aria-labelledby="avatarButton">
                              <li>
                                <a th:href="@{|/user/${user.id}|}"
                                   class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">View
                                  Profile</a>
                              </li>
                              <li>
                                <a href="#"
                                   class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Message</a>
                              </li>
                            </ul>
                          </div>
                        </div>

                        <a class="flex flex-row justify-self-end items-center group/edit group-hover/item:visible ">
                          <form th:action="@{/users/{id}/follow(id=${user.id})}"
                                th:name="followFromEvent" th:method="post"
                                class="block px-4 py-2 text-sm text-gray-200 ">
                            <button class="items-center justify-center hover:cursor-pointer"
                                    type="submit">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19"
                                   height="19" fill="currentColor"
                                   class="bi bi-person-fill-add text-gray-300 transition duration-300 hover:text-gray-500" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                                <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"/>
                              </svg>
                            </button>
                          </form>
                        </a>

                      </div>
                    </div>
                  </li>
                </div>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</aside>

